<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">

<head>
  
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<script>
    MathJax = {
        tex: {
            displayMath: [['\\[', '\\]'], ['$$', '$$']],  
            inlineMath: [['$', '$']]                  
        },
        loader: {
            load: ['ui/safe']
        },
    };
</script>
  
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Brew 换源 | Da1sypetals</title>
<link rel="icon" href="/favicon.svg" sizes="any" type="image/svg+xml" /><meta property="og:url" content="https://da1sy-petals.vercel.app/posts/brew-sources/">
  <meta property="og:site_name" content="Da1sypetals">
  <meta property="og:title" content="Brew 换源">
  <meta property="og:description" content="原文：
https://mirrors.ustc.edu.cn/help/brew.git.html https://mirrors.ustc.edu.cn/help/homebrew-bottles.html https://mirrors.ustc.edu.cn/help/homebrew-core.git.html https://mirrors.ustc.edu.cn/help/homebrew-cask.git.html ✅ 一、设置环境变量（永久生效，针对 fish） 在 fish 中，永久设置环境变量应使用 set -Ux （全局、导出、持久化）： （set文档： https://fishshell.com/docs/current/cmds/set.html ）
# Homebrew 主程序仓库 set -Ux HOMEBREW_BREW_GIT_REMOTE https://mirrors.ustc.edu.cn/brew.git # Homebrew 核心公式仓库 set -Ux HOMEBREW_CORE_GIT_REMOTE https://mirrors.ustc.edu.cn/homebrew-core.git # 预编译二进制包（bottles）域名 set -Ux HOMEBREW_BOTTLE_DOMAIN https://mirrors.ustc.edu.cn/homebrew-bottles # 元数据 API 域名（Brew 4.0&#43; 必需） set -Ux HOMEBREW_API_DOMAIN https://mirrors.ustc.edu.cn/homebrew-bottles/api ✅ 二、配置 Homebrew Cask 使用镜像（Git 仓库方式） 由于Brew 4.0&#43; 默认使用 JSON API，大多数情况下不需要手动设置 cask 的 Git 镜像。但如果你仍希望显式使用 USTC 的 cask Git 仓库（例如离线环境或调试），请运行：
brew tap --custom-remote homebrew/cask https://mirrors.ustc.edu.cn/homebrew-cask.git ⚠️ 注意：如果你以后想恢复官方源，可运行： brew tap --custom-remote homebrew/cask https://github.com/Homebrew/homebrew-cask">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-10-23T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-10-23T00:00:00+00:00">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Brew 换源">
  <meta name="twitter:description" content="原文：
https://mirrors.ustc.edu.cn/help/brew.git.html https://mirrors.ustc.edu.cn/help/homebrew-bottles.html https://mirrors.ustc.edu.cn/help/homebrew-core.git.html https://mirrors.ustc.edu.cn/help/homebrew-cask.git.html ✅ 一、设置环境变量（永久生效，针对 fish） 在 fish 中，永久设置环境变量应使用 set -Ux （全局、导出、持久化）： （set文档： https://fishshell.com/docs/current/cmds/set.html ）
# Homebrew 主程序仓库 set -Ux HOMEBREW_BREW_GIT_REMOTE https://mirrors.ustc.edu.cn/brew.git # Homebrew 核心公式仓库 set -Ux HOMEBREW_CORE_GIT_REMOTE https://mirrors.ustc.edu.cn/homebrew-core.git # 预编译二进制包（bottles）域名 set -Ux HOMEBREW_BOTTLE_DOMAIN https://mirrors.ustc.edu.cn/homebrew-bottles # 元数据 API 域名（Brew 4.0&#43; 必需） set -Ux HOMEBREW_API_DOMAIN https://mirrors.ustc.edu.cn/homebrew-bottles/api ✅ 二、配置 Homebrew Cask 使用镜像（Git 仓库方式） 由于Brew 4.0&#43; 默认使用 JSON API，大多数情况下不需要手动设置 cask 的 Git 镜像。但如果你仍希望显式使用 USTC 的 cask Git 仓库（例如离线环境或调试），请运行：
brew tap --custom-remote homebrew/cask https://mirrors.ustc.edu.cn/homebrew-cask.git ⚠️ 注意：如果你以后想恢复官方源，可运行： brew tap --custom-remote homebrew/cask https://github.com/Homebrew/homebrew-cask">

      <link rel="stylesheet" href="/css/root.min.0e732b812b9751962e01a7c4798a1211cd5f8ac8abec7f99793fe306989e459f.css" integrity="sha256-DnMrgSuXUZYuAafEeYoSEc1fisir7H&#43;ZeT/jBpieRZ8=" crossorigin="anonymous">
      <link rel="stylesheet" href="/css/bundle.min.59eb1a059f8cd558e64375ede3e68d3e9120ddb0c6bdbab555c247689cef59e1.css" integrity="sha256-WesaBZ&#43;M1VjmQ3Xt4&#43;aNPpEg3bDGvbq1VcJHaJzvWeE=" crossorigin="anonymous">

      <script src="/js/bundle.cc8ae9952dbfb731affafabdf26e5c60a6910047ff59ccdeaf1daebaa26c8830.js" integrity="sha256-zIrplS2/tzGv&#43;vq98m5cYKaRAEf/Wczerx2uuqJsiDA=" crossorigin="anonymous"></script><script defer src="/js/search/flexsearch.compact.5e0de3b335e5c523c7cf45473dc43fccb6c75f64a9d59cc04a6eccbb7c25eb49.js" integrity="sha256-Xg3jszXlxSPHz0VHPcQ/zLbHX2Sp1ZzASm7Mu3wl60k="></script>
<script defer src="/js/search/search.1d980f84df11f3eb7c8c5f17f541d49a0611608df179dd74fa7f06225eb56ace.js" integrity="sha256-HZgPhN8R8&#43;t8jF8X9UHUmgYRYI3xed10&#43;n8GIl61as4="></script>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Spectral:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,200..800&family=Spectral:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel="stylesheet">

</head>

<body class="notransition">
  <div id="container">
    <header id="main-header"><div role="navigation" aria-label="Main">
  <div class="nav-left">
    <a href="https://da1sy-petals.vercel.app/" style="color: inherit;">Da1sypetals</a>
  </div>
  <div class="nav-right">
    <div style="position:absolute;width:0px;height:0px;">
      <div id="nav-dropdown-menu" class="hidden" href="#">
    <div class="nav-item">
      <a aria-current="true" class="ancestor" href="/posts/"
      >文章</a>
    </div>
    <div class="nav-item">
      <a href="/english-post/"
      >en-Posts</a>
    </div>
    <div class="nav-item">
      <a href="/documents/"
      >文档</a>
    </div>
    <div class="nav-item">
      <a href="https://singings.netlify.app"
      >歌单</a>
    </div>
    <div class="nav-item">
      <a href="/about/"
      >关于我</a>
    </div>
</div>
    </div>
    <a id="nav-dropdown-button" href="#"><svg width="20px" height="20px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M4 6H20M4 12H20M4 18H20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</a>
    <div id="nav-menu">
    <div class="nav-item">
      <a aria-current="true" class="ancestor" href="/posts/"
      >文章</a>
    </div>
    <div class="nav-item">
      <a href="/english-post/"
      >en-Posts</a>
    </div>
    <div class="nav-item">
      <a href="/documents/"
      >文档</a>
    </div>
    <div class="nav-item">
      <a href="https://singings.netlify.app"
      >歌单</a>
    </div>
    <div class="nav-item">
      <a href="/about/"
      >关于我</a>
    </div>
</div>
    <a id="theme-switcher" href="#">
<svg class="light-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M12 3V4M12 20V21M4 12H3M6.31412 6.31412L5.5 5.5M17.6859 6.31412L18.5 5.5M6.31412 17.69L5.5 18.5001M17.6859 17.69L18.5 18.5001M21 12H20M16 12C16 14.2091 14.2091 16 12 16C9.79086 16 8 14.2091 8 12C8 9.79086 9.79086 8 12 8C14.2091 8 16 9.79086 16 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>

<svg class="dark-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M3.32031 11.6835C3.32031 16.6541 7.34975 20.6835 12.3203 20.6835C16.1075 20.6835 19.3483 18.3443 20.6768 15.032C19.6402 15.4486 18.5059 15.6834 17.3203 15.6834C12.3497 15.6834 8.32031 11.654 8.32031 6.68342C8.32031 5.50338 8.55165 4.36259 8.96453 3.32996C5.65605 4.66028 3.32031 7.89912 3.32031 11.6835Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</a>
  </div>
</div></header>
    <div class="flex grow">
      <div id="main-pane">
        <main id="main-content"><div class="single-header">
<ol class="breadcrumbs" itemscope itemtype="https://schema.org/BreadcrumbList">
    <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
      <a itemprop="item" href="https://da1sy-petals.vercel.app/">
        <span itemprop="name">Home</span>
      </a>
      <meta itemprop="position" content='1' />
    </li>
    <span>&nbsp»&nbsp</span>
    <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
      <a itemprop="item" href="https://da1sy-petals.vercel.app/posts/">
        <span itemprop="name">Posts</span>
      </a>
      <meta itemprop="position" content='2' />
    </li>
    <span>&nbsp»&nbsp</span>
</ol>
<h1>Brew 换源</h1><time class="dim" datetime="2025-10-23T00:00:00&#43;00:00">October 23, 2025</time></div>
  <section class="page-section"><p>原文：</p>
<ul>
<li><a href="https://mirrors.ustc.edu.cn/help/brew.git.html">https://mirrors.ustc.edu.cn/help/brew.git.html</a></li>
<li><a href="https://mirrors.ustc.edu.cn/help/homebrew-bottles.html">https://mirrors.ustc.edu.cn/help/homebrew-bottles.html</a></li>
<li><a href="https://mirrors.ustc.edu.cn/help/homebrew-core.git.html">https://mirrors.ustc.edu.cn/help/homebrew-core.git.html</a></li>
<li><a href="https://mirrors.ustc.edu.cn/help/homebrew-cask.git.html">https://mirrors.ustc.edu.cn/help/homebrew-cask.git.html</a></li>
</ul>
<h2 id="-一设置环境变量永久生效针对-fish">✅ 一、设置环境变量（永久生效，针对 fish）</h2>
<p>在 fish 中，永久设置环境变量应使用   set -Ux （全局、导出、持久化）：
（set文档： https://fishshell.com/docs/current/cmds/set.html ）</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#75715e"># Homebrew 主程序仓库</span>
</span></span><span style="display:flex;"><span>set -Ux HOMEBREW_BREW_GIT_REMOTE https://mirrors.ustc.edu.cn/brew.git
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Homebrew 核心公式仓库</span>
</span></span><span style="display:flex;"><span>set -Ux HOMEBREW_CORE_GIT_REMOTE https://mirrors.ustc.edu.cn/homebrew-core.git
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 预编译二进制包（bottles）域名</span>
</span></span><span style="display:flex;"><span>set -Ux HOMEBREW_BOTTLE_DOMAIN https://mirrors.ustc.edu.cn/homebrew-bottles
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 元数据 API 域名（Brew 4.0+ 必需）</span>
</span></span><span style="display:flex;"><span>set -Ux HOMEBREW_API_DOMAIN https://mirrors.ustc.edu.cn/homebrew-bottles/api
</span></span></code></pre></div><h2 id="-二配置-homebrew-cask-使用镜像git-仓库方式">✅ 二、配置 Homebrew Cask 使用镜像（Git 仓库方式）</h2>
<p>由于Brew 4.0+ 默认使用 JSON API，大多数情况下不需要手动设置 cask 的 Git 镜像。但如果你仍希望显式使用 USTC 的 cask Git 仓库（例如离线环境或调试），请运行：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>brew tap --custom-remote homebrew/cask https://mirrors.ustc.edu.cn/homebrew-cask.git
</span></span></code></pre></div><blockquote>
<p>⚠️ 注意：如果你以后想恢复官方源，可运行：
<code>brew tap --custom-remote homebrew/cask https://github.com/Homebrew/homebrew-cask</code></p></blockquote>
<h2 id="-三验证设置是否生效">✅ 三、验证设置是否生效</h2>
<p>检查环境变量：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>echo $HOMEBREW_BREW_GIT_REMOTE
</span></span><span style="display:flex;"><span>echo $HOMEBREW_CORE_GIT_REMOTE
</span></span><span style="display:flex;"><span>echo $HOMEBREW_BOTTLE_DOMAIN
</span></span><span style="display:flex;"><span>echo $HOMEBREW_API_DOMAIN
</span></span></code></pre></div><p>更新 Homebrew：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>brew update
</span></span></code></pre></div><p>如果下载速度很快（且无 GitHub 超时），说明 bottles 已走镜像。</p>
<p>（如果首次安装Homebrew）
如果你尚未安装 Homebrew，可先设置上述环境变量，再运行安装脚本：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>set -Ux HOMEBREW_BREW_GIT_REMOTE https://mirrors.ustc.edu.cn/brew.git
</span></span><span style="display:flex;"><span>set -Ux HOMEBREW_CORE_GIT_REMOTE https://mirrors.ustc.edu.cn/homebrew-core.git
</span></span><span style="display:flex;"><span>set -Ux HOMEBREW_BOTTLE_DOMAIN https://mirrors.ustc.edu.cn/homebrew-bottles
</span></span><span style="display:flex;"><span>set -Ux HOMEBREW_API_DOMAIN https://mirrors.ustc.edu.cn/homebrew-bottles/api
</span></span></code></pre></div><h2 id="使用官方安装脚本若无法访问-github改用-ustc-备份脚本">使用官方安装脚本（若无法访问 GitHub，改用 USTC 备份脚本）</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>/bin/bash -c <span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>curl -fsSL https://mirrors.ustc.edu.cn/misc/brew-install.sh<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>
</span></span></code></pre></div></section></main>
        <footer id="main-footer"><div class="footer">
  <a href="#">Scroll to Top</a>
  <div class="footer-copyright">
    <div class="dim">© 2025 Da1sypetals</div>
    <div>Made with ❤️ and powered by <a href="https://github.com/math-queiroz/rusty-typewriter" target="_blank">Rusty Typewriter</a> theme for <a href="https://gohugo.io/" target="_blank">Hugo</a></div>
  </div>
</div>
</footer>
      </div><aside id="side-pane" class="side-sticky"><div class="side-details">
    <span>127 words</span>
    <span>2 - 2 minutes read</span></div><h3>Table Of Contents</h3><nav id="TableOfContents">
  <ul>
    <li><a href="#-一设置环境变量永久生效针对-fish">✅ 一、设置环境变量（永久生效，针对 fish）</a></li>
    <li><a href="#-二配置-homebrew-cask-使用镜像git-仓库方式">✅ 二、配置 Homebrew Cask 使用镜像（Git 仓库方式）</a></li>
    <li><a href="#-三验证设置是否生效">✅ 三、验证设置是否生效</a></li>
    <li><a href="#使用官方安装脚本若无法访问-github改用-ustc-备份脚本">使用官方安装脚本（若无法访问 GitHub，改用 USTC 备份脚本）</a></li>
  </ul>
</nav></aside></div>
  </div>
</body>

</html>